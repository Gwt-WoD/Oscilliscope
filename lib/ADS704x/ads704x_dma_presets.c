
#include "ads704x_dma.h"

#include <stdint.h>
#include <stdbool.h>


/** Python Script to generate timer settings:
 * for x in range(1,(2**16)-1):
 *     if sys_clk%x == 0:
 *         print("{", x, ", ", (sys_clk/x), "},")
 */

const uint8_t dma_timer_settings_125MHz_len = 28;
struct freq_div dma_timer_settings_125MHz[] = {
	// {1, 125000000},
	// {2, 62500000},
	// {4, 31250000},
	// {5, 25000000},
	// {8, 15625000},
	// {10, 12500000},
	// {16, 7812500},
	// {20, 6250000},
	// {25, 5000000},
	// {32, 3906250},
	// {40, 3125000},
	// {50, 2500000},
	// {64, 1953125},
	// {80, 1562500},
	// {100, 1250000},
	{125, 1000000},
	{160, 781250},
	{200, 625000},
	{250, 500000},
	{320, 390625},
	{400, 312500},
	{500, 250000},
	{625, 200000},
	{800, 156250},
	{1000, 125000},
	{1250, 100000},
	{1600, 78125},
	{2000, 62500},
	{2500, 50000},
	{3125, 40000},
	{4000, 31250},
	{5000, 25000},
	{6250, 20000},
	{8000, 15625},
	{10000, 12500},
	{12500, 10000},
	{15625, 8000},
	{20000, 6250},
	{25000, 5000},
	{31250, 4000},
	{40000, 3125},
	{50000, 2500},
	{62500, 2000}
};
const uint8_t dma_timer_settings_200MHz_len = 37;
struct freq_div dma_timer_settings_200MHz[] = {
	// {1, 200000000},
	// {2, 100000000},
	// {4, 50000000},
	// {5, 40000000},
	// {8, 25000000},
	// {10, 20000000},
	// {16, 12500000},
	// {20, 10000000},
	// {25, 8000000},
	// {32, 6250000},
	// {40, 5000000},
	// {50, 4000000},
	// {64, 3125000},
	// {80, 2500000},
	// {100, 2000000},
	// {125, 1600000},
	// {128, 1562500},
	// {160, 1250000},
	{200, 1000000},      // 1 MHz
	{250, 800000},       // 800 kHz
	{256, 781250},       // 781.25 kHz
	{320, 625000},       // 625 kHz
	{400, 500000},       // 500 kHz
	{500, 400000},       // 400 kHz
	{512, 390625},       // 390.625 kHz
	{625, 320000},       // 320 kHz
	{640, 312500},       // 312.5 kHz
	{800, 250000},       // 250 kHz
	{1000, 200000},      // 200 kHz
	{1250, 160000},      // 160 kHz
	{1280, 156250},      // 156.25 kHz
	{1600, 125000},      // 125 kHz
	{2000, 100000},      // 100 kHz
	{2500, 80000},       // 80 kHz
	{2560, 78125},       // 78.125 kHz
	{3125, 64000},       // 64 kHz
	{3200, 62500},       // 62.5 kHz
	{4000, 50000},       // 50 kHz
	{5000, 40000},       // 40 kHz
	{6250, 32000},       // 32 kHz
	{6400, 31250},       // 31.25 kHz
	{8000, 25000},       // 25 kHz
	{10000, 20000},      // 20 kHz
	{12500, 16000},      // 16 kHz
	{12800, 15625},      // 15.625 kHz
	{15625, 12800},      // 12.8 kHz
	{16000, 12500},      // 12.5 kHz
	{20000, 10000},      // 10 kHz
	{25000, 8000},       // 8 kHz
	{31250, 6400},       // 6.4 kHz
	{32000, 6250},       // 6.25 kHz
	{40000, 5000},       // 5 kHz
	{50000, 4000},       // 4 kHz
	{62500, 3200},       // 3.2 kHz
	{64000, 3125}        // 3.125 kHz
};
const uint8_t dma_timer_settings_250MHz_len = 28;
struct freq_div dma_timer_settings_250MHz[] = {
	// {1, 250000000},
	// {2, 125000000},
	// {4, 62500000},
	// {5, 50000000},
	// {8, 31250000},
	// {10, 25000000},
	// {16, 15625000},
	// {20, 12500000},
	// {25, 10000000},
	// {32, 7812500},
	// {40, 6250000},
	// {50, 5000000},
	// {64, 3906250},
	// {80, 3125000},
	// {100, 2500000},
	// {125, 2000000},
	// {128, 1953125},
	// {160, 1562500},
	// {200, 1250000},
	{250, 1000000},     // 1 MHz
	{320, 781250},      // 781.25 kHz
	{400, 625000},      // 625 kHz
	{500, 500000},
	{625, 400000},
	{640, 390625},
	{800, 312500},
	{1000, 250000},
	{1250, 200000},
	{1600, 156250},
	{2000, 125000},
	{2500, 100000},
	{3125, 80000},
	{3200, 78125},
	{4000, 62500},
	{5000, 50000},
	{6250, 40000},
	{8000, 31250},
	{10000, 25000},
	{12500, 20000},
	{15625, 16000},
	{16000, 15625},
	{20000, 12500},
	{25000, 10000},
	{31250, 8000},
	{40000, 6250},
	{50000, 5000},
	{62500, 4000}
};
const uint8_t dma_timer_settings_260MHz_len = 60;
struct freq_div dma_timer_settings_260MHz[] = {
	// {1, 260000000},
	// {2, 130000000},
	// {4, 65000000},
	// {5, 52000000},
	// {8, 32500000},
	// {10, 26000000},
	// {13, 20000000},
	// {16, 16250000},
	// {20, 13000000},
	// {25, 10400000},
	// {26, 10000000},
	// {32, 8125000},
	// {40, 6500000},
	// {50, 5200000},
	// {52, 5000000},
	// {64, 4062500},
	// {65, 4000000},
	// {80, 3250000},
	// {100, 2600000},
	// {104, 2500000},
	// {125, 2080000},
	// {128, 2031250},
	// {130, 2000000},
	// {160, 1625000},
	// {200, 1300000},
	// {208, 1250000},
	// {250, 1040000},
	// {256, 1015625},
	{260, 1000000},
	{320, 812500},
	{325, 800000},
	{400, 650000},
	{416, 625000},
	{500, 520000},
	{520, 500000},
	{625, 416000},
	{640, 406250},
	{650, 400000},
	{800, 325000},
	{832, 312500},
	{1000, 260000},
	{1040, 250000},
	{1250, 208000},
	{1280, 203125},
	{1300, 200000},
	{1600, 162500},
	{1625, 160000},
	{1664, 156250},
	{2000, 130000},
	{2080, 125000},
	{2500, 104000},
	{2600, 100000},
	{3125, 83200},
	{3200, 81250},
	{3250, 80000},
	{3328, 78125},
	{4000, 65000},
	{4160, 62500},
	{5000, 52000},
	{5200, 50000},
	{6250, 41600},
	{6400, 40625},
	{6500, 40000},
	{8000, 32500},
	{8125, 32000},
	{8320, 31250},
	{10000, 26000},
	{10400, 25000},
	{12500, 20800},
	{13000, 20000},
	{15625, 16640},
	{16000, 16250},
	{16250, 16000},
	{16640, 15625},
	{20000, 13000},
	{20800, 12500},
	{25000, 10400},
	{26000, 10000},
	{31250, 8320},
	{32000, 8125},
	{32500, 8000},
	{40000, 6500},
	{40625, 6400},
	{41600, 6250},
	{50000, 5200},
	{52000, 5000},
	{62500, 4160},
	{65000, 4000},
};